<h2 id="a-little-summary-in--professional-javascript-for-web-developers-to-be-continue"><strong>A little Summary In « Professional JavaScript for Web Developers »(To Be Continue)</strong></h2>

<ul>
  <li><a href="#section">(一) 基本概念</a></li>
  <li><a href="#section-1">(二) 作用域和内存问题</a></li>
  <li><a href="#section-2">(三) 引用类型</a></li>
  <li><a href="#bom">(五) BOM</a></li>
  <li><a href="#dom">(六) DOM</a></li>
  <li><a href="#section-3">(七) 事件</a></li>
  <li><a href="#section-4">(八) 表单脚本</a></li>
  <li><a href="#json">(九) JSON</a></li>
</ul>

<h3 id="section">(一) 基本概念</h3>

<ol>
  <li>
    <p>严格模式作用</p>

    <ul>
      <li>消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;</li>
      <li>消除代码运行的一些不安全之处，保证代码运行的安全；</li>
      <li>提高编译器效率，增加运行速度；</li>
    </ul>
  </li>
  <li>
    <p>局部变量和全局变量</p>

    <ul>
      <li>使用var定义的变量为局部变量,全局变量就不需要var;</li>
      <li>
        <p>如果在函数中使用var定义一个变量,这个变量在函数退出后就会被销毁,例如:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">test</span><span class="p">(){</span>
   <span class="kd">var</span> <span class="nx">message</span><span class="o">=</span><span class="s2">"hi"</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">test</span><span class="p">();</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>  <span class="c1">//报错!</span>
</code></pre>
        </div>
        <p>相反使用全局变量就不会出错:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">test</span><span class="p">(){</span>
     <span class="nx">message</span><span class="o">=</span><span class="s2">"hi"</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">test</span><span class="p">();</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>  <span class="c1">//输出"hi"</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>typeof</p>

    <ul>
      <li>ECMAScript有5中简单数据类型: Undefined,Null,Boolean,Number,String,还有一种复杂数据类型: Object;</li>
      <li>“undefined”—如果这个值未定义或者本身;</li>
      <li>“boolean”—如果这个值是布尔值;</li>
      <li>“string”—如果这个值是字符串;</li>
      <li>“number”—如果这个值是数值或者NaN;</li>
      <li>“object”—如果这个值是对象或null;</li>
      <li>“function”—如果这个值是函数;</li>
      <li>使用var声明变量但没有初始化的变量就是undefined,如果没有使用var声明即全局变量没有初始化时使用typeof操作符时会报错<code class="highlighter-rouge">is not defined</code>;</li>
      <li>对于尚未声明的变量,只能执行一项操作,就是使用typeof操作符检测类型,而且结果师undefined;</li>
      <li>从逻辑角度看,null代表一个空指针,所以使用typeof时结果是object;</li>
      <li>
        <p>各种数据转换成boolean类型,如下表:</p>

        <table>
          <thead>
            <tr>
              <th>数据类型</th>
              <th style="text-align: center">转换为true的值</th>
              <th style="text-align: right">转换为false的值</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Boolean</td>
              <td style="text-align: center">true</td>
              <td style="text-align: right">false</td>
            </tr>
            <tr>
              <td>String</td>
              <td style="text-align: center">任何非空字符串</td>
              <td style="text-align: right">”“(空字符串)</td>
            </tr>
            <tr>
              <td>Number</td>
              <td style="text-align: center">任何非零数字值(包括无穷大)</td>
              <td style="text-align: right">0和NaN</td>
            </tr>
            <tr>
              <td>Object</td>
              <td style="text-align: center">任何对象</td>
              <td style="text-align: right">null</td>
            </tr>
            <tr>
              <td>Undefined</td>
              <td style="text-align: center">n/a(即不适用)</td>
              <td style="text-align: right">undefined</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>javascript遵循IEEE754标准,因此这个标准中的浮点数不能正确地表达小数(比如0.1),所以0.1+0.2不等于0.3,而等于0.30000000000000004;</li>
      <li>NaN(not a number): 任何涉及nan的操作都会返回nan,另外,nan与任何值都不相等包括nan本身;</li>
      <li>number()函数:
        <ul>
          <li>如果是boolean值,true返回1,false返回0;</li>
          <li>如果是null,返回0;</li>
          <li>如果是undefined,返回NaN;</li>
          <li>如果是只包含数字的的字符串,返回对应的数字,如果包含浮点数,返回对应的浮点数(去掉前导零),如果包含有效的十六进制格式,例如”0xf”,将返回相同大小的十进制整数值,如果字符串是空,将返回0,如果除以上以外的字符,将返回NaN;</li>
          <li>如果是对象,则调用valueof()方法,依照以上的规则转换返回的值,如果转换的结果是NaN,则调用对象的toString()方法,然后再次依照前面的规则转换返回相对应的字符串值;</li>
        </ul>
      </li>
      <li>parseInt()函数:
        <ul>
          <li>如果第一个字符不是数字字符或者负号,返回NaN;</li>
          <li>空字符串时将返回NaN;</li>
          <li>数字后面带有非数字的字符会忽略非字符,例如”12345blue”,返回12345;</li>
          <li>对于小数将忽略小数点后面的一切;</li>
          <li>前面带有0x或者0开头的数字,将返回16进制和8进制;</li>
        </ul>
      </li>
      <li>parseFloat()函数: 只对第一个小数点有效,如果有多个小数点,会忽略第二个以后的小数点一切;</li>
      <li>任何字符串都可以通过length访问长度;</li>
      <li>数值,布尔值,对象和字符串,NaN都有toString()方法,null和buquandengundefined都没有这个方法,这时候只能使用String()方法,null返回null,undefined返回undefined;</li>
      <li>Object类型每个实例都有的属性和方法:
        <ul>
          <li>constructor: 保存着用于创建当前对象的函数;</li>
          <li>hasOwnProperty(ropertyName): 用于检查给定的属性在当前对象实例中(而不是在实例的原型中)是否存在,例如o.hasOwnProperty(“name”);</li>
          <li>isPrototypeof(object): 用于检查传入的对象是否是传入的对象的原型;</li>
          <li>propertyIsEnumerable(propertyName): 用于检查给定的属性是否能够使用for-ind语句来枚举;</li>
          <li>toLocaleString():  返回对象的字符串表示,该字符串与执行环境对应;</li>
          <li>toString(): 返回对象的字符串表示;</li>
          <li>valueOf(): 返回对象的字符串,数值或布尔值表示,通常与toString()方法的返回值相同;</li>
        </ul>
      </li>
      <li>Infinity与0相乘,结果为NaN,Infinity与非0数值相乘结果为Infinity,Infinity与-Infinity相加后得到NaN;</li>
      <li>函数中的参数,可以通过argument数组来直接访问;</li>
      <li>null与undefined相等,但不全等;</li>
    </ul>
  </li>
</ol>

<h3 id="section-1">(二) 作用域和内存问题</h3>

<ol>
  <li>基本类型和引用类型
    <ul>
      <li>只能对引用类型值动态地添加属性,不能对基本数据类型添加;</li>
      <li>确定哪种基本类型使用typeof操作符,确定一个值是哪种引用类型使用instanceof操作符</li>
      <li>
        <p>从一个变量向另一个变量复制基本类型值和引用类型值时,例如:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">num1</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">num2</span> <span class="o">=</span> <span class="nx">num1</span><span class="p">;</span>
</code></pre>
        </div>
        <p>复制前的变量对象:</p>

        <table>
          <thead>
            <tr>
              <th> </th>
              <th style="text-align: center"> </th>
              <th style="text-align: right"> </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td> </td>
              <td style="text-align: center"> </td>
              <td style="text-align: right"> </td>
            </tr>
            <tr>
              <td> </td>
              <td style="text-align: center"> </td>
              <td style="text-align: right"> </td>
            </tr>
            <tr>
              <td>num1</td>
              <td style="text-align: center">5(Number类型)</td>
              <td style="text-align: right"> </td>
            </tr>
          </tbody>
        </table>

        <p>复制后的变量对象:</p>

        <table>
          <thead>
            <tr>
              <th> </th>
              <th style="text-align: center"> </th>
              <th style="text-align: right"> </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td> </td>
              <td style="text-align: center"> </td>
              <td style="text-align: right"> </td>
            </tr>
            <tr>
              <td>num2</td>
              <td style="text-align: center">5(Number类型)</td>
              <td style="text-align: right"> </td>
            </tr>
            <tr>
              <td>num1</td>
              <td style="text-align: center">5(Number类型)</td>
              <td style="text-align: right"> </td>
            </tr>
          </tbody>
        </table>

        <p>num1和num2是两个完全独立的,这两个变量参与任意操作没有影响;</p>
      </li>
      <li>
        <p>在对象进行复制的时候,例如:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">object</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="nx">obj1</span><span class="p">;</span>
<span class="nx">obj1</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'helloword'</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">obj2</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
</code></pre>
        </div>
        <p>复制前的变量对象:</p>

        <table>
          <thead>
            <tr>
              <th> </th>
              <th style="text-align: center"> </th>
              <th style="text-align: right"> </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td> </td>
              <td style="text-align: center"> </td>
              <td style="text-align: right"> </td>
            </tr>
            <tr>
              <td> </td>
              <td style="text-align: center"> </td>
              <td style="text-align: right"> </td>
            </tr>
            <tr>
              <td>obj1</td>
              <td style="text-align: center">(object类型)</td>
              <td style="text-align: right"> </td>
            </tr>
          </tbody>
        </table>

        <p>复制后的变量对象:</p>

        <table>
          <thead>
            <tr>
              <th> </th>
              <th style="text-align: center"> </th>
              <th style="text-align: right"> </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td> </td>
              <td style="text-align: center"> </td>
              <td style="text-align: right"> </td>
            </tr>
            <tr>
              <td>obj2</td>
              <td style="text-align: center">(object类型)</td>
              <td style="text-align: right"> </td>
            </tr>
            <tr>
              <td>obj1</td>
              <td style="text-align: center">(object类型)</td>
              <td style="text-align: right"> </td>
            </tr>
          </tbody>
        </table>

        <p>复制后obj2和obj1都指向同一个object对象,所以当为obj1添加name属性后,可以通过obj2访问这个属性;</p>
      </li>
      <li>
        <p>传递参数例子:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">addTen</span><span class="p">(</span><span class="nx">count</span><span class="p">){</span>
    <span class="nx">num</span> <span class="o">+</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">num</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">addTen</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span>     <span class="c1">//20,没有变化</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>    <span class="c1">//30</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
  <li>垃圾收集
    <ul>
      <li>最常用的就是标记清除,还有不太常见的引用计数;</li>
      <li>分配给Web浏览器的可用内存数量通常比分配给桌面应用程序的少,目的是: 出于安全方面的考虑,防止运行javascript的网页耗尽全部系统内存而导致系统奔溃;</li>
    </ul>
  </li>
</ol>

<h3 id="section-2">(三) 引用类型</h3>

<ol>
  <li>object类型
    <ul>
      <li>创建object实例的方式有两种:
        <ul>
          <li>
            <p>第一种是使用new操作符后跟object构造函数,例如</p>

            <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">"helloword"</span><span class="p">;</span>
</code></pre>
            </div>
            <p>等价于:</p>

            <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">"helloword"</span><span class="p">;</span>
</code></pre>
            </div>
          </li>
          <li>
            <p>另一种使用对象字面量表示法,例如</p>

            <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"tom"</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">18</span>
<span class="p">}</span>
</code></pre>
            </div>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Array类型
    <ul>
      <li>创建数组有两种方式:
        <ul>
          <li>
            <p>第一种是使用Array构造函数,例如</p>

            <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>
</code></pre>
            </div>
            <p>其中new可以省略,即</p>

            <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
</code></pre>
            </div>
          </li>
          <li>
            <p>另一种还是使用数组字面量创建,例如</p>

            <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'blue'</span><span class="p">,</span><span class="s1">'orange'</span><span class="p">];</span>
</code></pre>
            </div>
          </li>
        </ul>
      </li>
      <li>
        <p>数组的length属性,通过设置这个属性,可以从数组的末尾移除或向数组中添加新项,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'blue'</span><span class="p">,</span><span class="s1">'orange'</span><span class="p">];</span>
<span class="nx">colors</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>    <span class="c1">//undefined</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>join()方法只接受一个参数,即用作分隔符的字符串,然后返回包含所有数组项的字符串,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'blue'</span><span class="p">,</span><span class="s1">'orange'</span><span class="p">];</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">colors</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">','</span><span class="p">));</span>  <span class="c1">//red,green,blue</span>
</code></pre>
        </div>

        <p>但如果某一项的值是null或者undefined,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'blue'</span><span class="p">,</span><span class="s1">''</span><span class="p">];</span>
<span class="nx">colors</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">','</span><span class="p">);</span>   <span class="c1">//red,blue,</span>
</code></pre>
        </div>
      </li>
      <li>(栈的方法)数组中提供了push()和pop()方法,实现类似栈的行为:
        <ul>
          <li>push()方法可以接受任意数量的参数,把它们逐个添加到数组末尾,并返回修改后数组的长度,例如</li>
        </ul>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">colors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"blue"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span>   <span class="c1">//2</span>
</code></pre>
        </div>

        <ul>
          <li>pop()方法从数组末尾移除最后一项,减少数组的lengh的长度,然后返回移除的项,例如</li>
        </ul>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'blue'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">colors</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>   <span class="c1">//blue</span>
</code></pre>
        </div>
      </li>
      <li>(队列的方法)结合使用shift()和push()方法可以像队列一样使用数组:
        <ul>
          <li>push()方法跟上面的一样;</li>
          <li>shift()方法发就是从数组中取得第一项;</li>
        </ul>
      </li>
      <li>unshift()方法能在数组前端添加任意个项并返回新数组的长度;</li>
      <li>reverse()方法只是把原来数组的顺序倒过来,返回一个倒过来的数组;sort()方法就是升序数组,返回一个升序后的数组;</li>
      <li>
        <p>concat()方法是先创建当前数组一个副本,然后将接收到的参数添加倒这个副本的末尾,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'blue'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">colors2</span> <span class="o">=</span> <span class="nx">colors</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="s1">'yellow'</span><span class="p">,[</span><span class="s1">'orange'</span><span class="p">,</span><span class="s1">'pink'</span><span class="p">]);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">color2</span><span class="p">);</span>  <span class="c1">//red,blue,yellow,orange,pink</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>slice()方法在只有一个参数的时候,返回从该参数指定的位置开始到当前数组的末尾的所有向,如果有两个参数,则返回起始和结束位置之间的项,但不包括结束位置的项,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span><span class="s1">'blue'</span><span class="p">,</span><span class="s1">'yellow'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">color1</span> <span class="o">=</span> <span class="nx">colors</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>   <span class="c1">//red,yellow</span>
<span class="kd">var</span> <span class="nx">color2</span> <span class="o">=</span> <span class="nx">colors</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="c1">//red</span>
</code></pre>
        </div>
        <p>如果参数中带有负数,则使用数组长度加上该数来确定相应的位置,例如长度为5的数组,slice(-2,-1)即slice(3,4);</p>
      </li>
      <li>splice()方法主要用途是向数组的中部插入项:
        <ul>
          <li>删除: 只需指定2个参数(即要删除的第一项的位置和要删除的项数),例如splice(0,2)会删除前两项;</li>
          <li>插入: 需要3个参数(起始位置,0(要删除的项数),要插入的项);</li>
          <li>替换: 需要3个参数(起始位置,0(要删除的项数),要插入的项);</li>
        </ul>
      </li>
      <li>
        <p>indexof()和lastindexof()都是需要两个参数(即要查找的项和(可选的)表示查找起点位置的索引),不同的是,lastindexof是从数组末尾开始,例如:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">];</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">num</span><span class="p">.</span><span class="nx">indexof</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>  <span class="c1">//4</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">num</span><span class="p">.</span><span class="nx">lastindexof</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>   <span class="c1">//4</span>
</code></pre>
        </div>
        <p>特别地:
<code class="highlighter-rouge">javascript
var person = {name: "hellow"};
var people = [{name: "hellow"}];
var morePeople = [people];
alert(people.indexOf(person));   //-1
alert(morePeople.indexof(person));    //0
</code></p>
      </li>
      <li>
        <p>数组定义了5组迭代方法:</p>

        <table>
          <thead>
            <tr>
              <th>方法</th>
              <th style="text-align: center">解析</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>every()</td>
              <td style="text-align: center">对数组中的每一项运行给定函数,如果该函数每一项都返回true,则返回true</td>
            </tr>
            <tr>
              <td>some()</td>
              <td style="text-align: center">对数组中的每一项运行给定函数,如果该函数对某一项返回true,就返回true</td>
            </tr>
            <tr>
              <td>filter()</td>
              <td style="text-align: center">对数组中的每一项运行给定函数,返回该函数中符合要求的项组成的数组</td>
            </tr>
            <tr>
              <td>map()</td>
              <td style="text-align: center">对数组中的每一项运行给定函数,返回每次函数调用的结果组成的数组</td>
            </tr>
            <tr>
              <td>forEach()</td>
              <td style="text-align: center">对数组中的每一项运行给定函数,没有返回值</td>
            </tr>
          </tbody>
        </table>

        <p>例如:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">everyResults</span> <span class="o">=</span> <span class="nx">num</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">index</span> <span class="p">,</span><span class="nx">array</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">item</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">everyResults</span><span class="p">);</span>    <span class="c1">//false</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>归并方法有两个: reduce()和reduceRight(),区别是reduceRight()是从末尾开始到第一项,都是接收两个参数,一个在每一项上调用的函数和(可选的)作为归并基础的初始值,而传给这两个方法里面的函数的参数有4个,分别是:前一个值,当前值,项的索引,数组对象,注意,第一次迭代发生在数组的第二项上,因此第一个参数是数组的第一项,第二个参数就是数组的第二项,例如:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span><span class="nx">cur</span><span class="p">,</span><span class="nx">index</span><span class="p">,</span><span class="nx">array</span><span class="p">){</span>
   <span class="k">return</span> <span class="nx">prev</span> <span class="o">+</span> <span class="nx">cur</span><span class="p">;</span>
<span class="p">});</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">sum</span><span class="p">);</span>     <span class="c1">//15</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>Function类型</p>

    <ul>
      <li>
        <p>javascript中的function(函数)没有重载,例如:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">addNumber</span><span class="p">(</span><span class="nx">num</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">num</span><span class="o">+</span><span class="mi">100</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">addNumber</span><span class="p">(</span><span class="nx">num</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">num</span><span class="o">+</span><span class="mi">200</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">addNumber</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>        <span class="c1">//结果为300</span>
</code></pre>
        </div>
        <p>等价于:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">addNumber</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">num</span> <span class="o">+</span> <span class="mi">100</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">addNumber</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">num</span> <span class="o">+</span> <span class="mi">200</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">addNumber</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>        <span class="c1">//结果为300</span>
</code></pre>
        </div>
        <p>明显地,赋值第二个函数的时候,直接把第一个函数覆盖;</p>
      </li>
      <li>
        <p>函数声明: 对函数声明,解析器会率先读取函数声明,并使其执行任何代码之前可用,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nx">sum</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span><span class="nx">num2</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
        </div>
        <p>在代码开始执行之前,解析器就已经通过一个名为函数声明提升的过程,读取并将函数声明添加到执行环境中;</p>
      </li>
      <li>
        <p>函数表达式: 对于函数表达式,必须等到解析器执行到它所在的代码行,才会真正被解析执行,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">alert</span><span class="p">(</span><span class="nx">sum</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span><span class="nx">num2</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
        </div>
        <p>这行代码在运行的时候会报sum is not a function错误,就是因为函数位于一个初始化语句中,而不是一个函数声明,换句话说,在执行函数所在的语句之前,变量sum中不会保存有对对函数的引用;</p>
      </li>
      <li>
        <p>每个函数都带有两个属性: length和prototype,length属性表示函数参数的个数,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">sayName</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>    
<span class="p">}</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">sayName</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>      <span class="c1">//输出1</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
  <li>基本包装类型
    <ul>
      <li>引用类型与基本包装类型区别: 主要区别就是生存期,使用new操作符创建的引用类型的实例,在执行流离开当前作用域之前都一直保存在内存中,而自动创建的基本包装类型的对象,则只存在于一行代码的执行瞬间,然后立即被销毁;</li>
      <li>对基本包装类型实例使用typeof,会返回Object;而且所有基本包装类型的对象都会被转换成true;</li>
      <li>
        <p>使用new调用基本包装类型的构造函数,与直接调用相同名的转型函数是不一样的,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="s2">"25"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">number</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>         <span class="c1">//转型函数</span>
<span class="nx">alert</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="nx">number</span><span class="p">));</span>              <span class="c1">//"number"</span>
   
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>        <span class="c1">//构造函数</span>
<span class="nx">alert</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="nx">obj</span><span class="p">));</span>                 <span class="c1">//"object"</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>Boolean类型容易出现的误解,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">obj</span> <span class="o">&amp;&amp;</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>              <span class="c1">//true</span>
</code></pre>
        </div>
        <p>因为obj是一个Boolean对象,在布尔表达式中,任何对象都会被转换成true,最终结果就是true &amp;&amp; true;
对比:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">value</span> <span class="o">&amp;&amp;</span> <span class="kc">true</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>               <span class="c1">//false</span>
</code></pre>
        </div>
        <p>因为value直接就是一个boolean基本类型,因此在布尔表达式中依旧还是false;</p>
      </li>
      <li>基本类型boolean与引用类型Boolean有两个区别:
        <ul>
          <li>使用typeof操作符时,基本类型就是返回”boolean”,而引用类型就是返回”object”;</li>
          <li>由于Boolean对象是Boolean类型的实例,所以使用instanceof操作符测试Boolean对象会返回true,测试基本类型的布尔值则返回false;</li>
        </ul>
      </li>
      <li>
        <p>Number类型重写了valueOf(),toLocaleString()和toString()方法,使用valueOf()方法返回对象表示的基本类型的数值,另外两个方法泽返回字符串形式的数值,但在toString()方法中可以接收一个表示多少进制的参数,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">num</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>          <span class="c1">//"10"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">num</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>         <span class="c1">//"1010"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">num</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">8</span><span class="p">));</span>         <span class="c1">//"12"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">num</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>        <span class="c1">//"10"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">num</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>        <span class="c1">//"a"或者"A"</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>String类型中concat()方法跟数组中的concat()一样,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">string</span> <span class="o">=</span> <span class="s2">"hello"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="s2">"word"</span><span class="p">);</span>         <span class="c1">//concat可以接收多个参数</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">);</span>                              <span class="c1">//输出"hello"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>                              <span class="c1">//输出helloword</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>slice()和substring(),substr()所需要的参数基本一致,唯独不一样的是第二个参数,slice()和substring()第二个参数都是字符串最后一个字符后面的位置,而substr()第二个参数则是返回字符个数,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">string</span> <span class="o">=</span> <span class="s2">"hello world"</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>            <span class="c1">//"lo world"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>        <span class="c1">//"lo world"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>           <span class="c1">//"lo world"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">));</span>          <span class="c1">//"lo w"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">));</span>      <span class="c1">//"lo w"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">));</span>         <span class="c1">//"lo worl"</span>
</code></pre>
        </div>
        <p>另外,当参数是负数的时候,三个方法的行为都不一样,slice()会将传入的负值与字符串的长度相加,substr()将负的第一个参数加上字符串的长度,将负的第二个参数转换为0,substring()会把所有负值的参数都转换为0,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">string</span> <span class="o">=</span> <span class="s2">"hello world"</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">));</span>            <span class="c1">//"rld"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">));</span>        <span class="c1">//"hello world"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">));</span>           <span class="c1">//"rld"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">));</span>          <span class="c1">//"lo w"</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">));</span>      <span class="c1">//"hel",变成substring(3,0)后,这个方法默认会把最小的放最前面,大的放后面,即substring(0,3)</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">));</span>         <span class="c1">//""(空字符串)</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>trim()方法可以删除前置及后缀的所有空格,但字符串本身不会变化,只是创建一个副本出来赋值给另外一个变量,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">string</span> <span class="o">=</span> <span class="s2">"   helloworld   "</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">trimString</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">);</span>                      <span class="c1">//"   helloworld   "</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">trimString</span><span class="p">);</span>                  <span class="c1">//"helloworld"</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>localeCompare()方法用于比较两个字符串,遵循以下规则: ①如果字符串应该排在字符串参数之前,就返回-1;②如果两个字符串相等,返回0;③如如果字符串应该排在字符串参数之后,就返回1,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">string</span> <span class="o">=</span> <span class="s2">"yellow"</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">localeCompare</span><span class="p">(</span><span class="s2">"brick"</span><span class="p">));</span>           <span class="c1">//1</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">localeCompare</span><span class="p">(</span><span class="s2">"yellow"</span><span class="p">));</span>          <span class="c1">//0</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">string</span><span class="p">.</span><span class="nx">localeCompare</span><span class="p">(</span><span class="s2">"zoo"</span><span class="p">));</span>             <span class="c1">//-1</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>单体内置对象</p>

    <ul>
      <li>javascript定义两个单体内置对象: Global和Math;</li>
      <li>Global对象中encodeURI()和encodeURIComponent()方法
        <ul>
          <li>相同点: 可以对URI进行编码,以便发送到浏览器,有效的URI中不能包含某些字符,例如空格,这两个方法都是用特殊的utf-8编码替换所有无效的字符;</li>
          <li>不同点: encodeURI()方法主要用于整个URI,而且不会对本身属于URI的特殊的字符进行编码,例如冒号,正斜杠,问号和#号,但和encodeURIComponent()方法主要用于对URI中的某一段进行编码,而且对它发现的任何非标准的字符进行编码;</li>
          <li>encodeURI()方法编码后的结果是除了空格之外其他字符原封不动,而encodeURIComponent()方法则会使用对应的编码替换所有非字母数字字符,而且一般来说,encodeURIComponent()方法用得比较多;</li>
          <li>encodeURI()方法对应的解码方法是decodeURI()方法,而和ncodeURIComponent()对应的decodeURIComponent(),可以解码任何字符的编码;</li>
        </ul>
      </li>
      <li>
        <p>Math()对象中的min()和max()方法,就是从一组数值中选出最小值和最大值,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">max</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">max</span><span class="p">);</span>                     <span class="c1">//3</span>
</code></pre>
        </div>

        <p>如果想从一个数组中选出最大值或最小值,可以使用apply()方法在</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">max</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">max</span><span class="p">);</span>                     <span class="c1">//3</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>Math对象中的random()方法返回大于等于0小于1的一个随机数,选出整数的方法: 值 = Math.floor(Math.random()*可能值的总数 + 第一个可能的值),例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>       <span class="c1">//输出1~10之间的值</span>
</code></pre>
        </div>
        <p>Math.floor()就是向下取整方法,例如Math.floor(25.9)输出的结果就是25;</p>
      </li>
    </ul>
  </li>
</ol>

<h3 id="bom">(五) BOM</h3>

<ol>
  <li>
    <p>全局作用域</p>

    <ul>
      <li>
        <p>尝试访问未声明的变量会抛出错误,但是通过查询window对象,可以知道某个可能未声明的变量是否存在,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">newValue</span> <span class="o">=</span> <span class="nx">oldValue</span><span class="p">;</span>                <span class="c1">//会抛出错误,因为oldValue未定义</span>
</code></pre>
        </div>
        <p>相反:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">newValue</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">oldValue</span><span class="p">;</span>         <span class="c1">//不会抛出错误,因为这是一次属性查询,newValue的值为undefined</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>与框架有关的一个对象是self,始终指向window,实际上,self和window对象可以互换使用;</p>
      </li>
    </ul>
  </li>
  <li>
    <p>间歇调用(setInterval)和超时调用(setTimeout)</p>

    <ul>
      <li>
        <p>超时调用setTimeout有两个参数: 要执行的代码和以毫秒表示的时间(即在执行代码前所需要等待多少毫秒),只运行一次,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">setTimeout</span><span class="p">(</span><span class="s2">"alert('helloworld!')"</span><span class="p">,</span><span class="mi">1000</span><span class="p">);</span>        <span class="c1">//第一个参数不建议传入字符串,因为传递的字符串可能导致性能损失,建议传入函数</span>
<span class="c1">//推荐的调用方式</span>
<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"helloworld!"</span><span class="p">);</span>
<span class="p">},</span><span class="mi">1000</span><span class="p">);</span>
</code></pre>
        </div>
        <p>setTimeout的结果是返回数值ID,表示超时调用,这个超时调用ID是计划执行代码的唯一标识符,可以通过调用它取消调用,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"HelloWorld!"</span><span class="p">);</span>
<span class="p">},</span><span class="mi">1000</span><span class="p">);</span>
<span class="c1">//把它取消</span>
<span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>间歇调用setInterval接收的参数与setTimeout相同: 要执行的代码(字符串或函数)和每次执行之前需要等待的毫秒数(每隔时间运行一次,并且不建议传递字符串),例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">setInterval</span><span class="p">(</span><span class="s2">"alert('helloworld!')"</span><span class="p">,</span><span class="mi">1000</span><span class="p">);</span>        <span class="c1">//第一个参数不建议传入字符串,因为传递的字符串可能导致性能损失,建议传入函数</span>
<span class="c1">//推荐的调用方式</span>
<span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"helloworld!"</span><span class="p">);</span>
<span class="p">},</span><span class="mi">1000</span><span class="p">);</span>
</code></pre>
        </div>
        <p>同样地,setInterval也是返回一个ID,用于将来某个时候取消调用,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"HelloWorld!"</span><span class="p">);</span>
<span class="p">},</span><span class="mi">1000</span><span class="p">);</span>
<span class="c1">//把它取消</span>
<span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>一般认为,使用超时调用来模拟间歇调用的是一种最佳实践,在开发环境下,很少使用真正的间歇调用,原因是后一个间歇调用可能会在前一个间歇调用结束之前启动, 所以可以使用超时调用替换间歇调用,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">max</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">incrementNumber</span><span class="p">(){</span>
    <span class="nx">num</span><span class="o">++</span><span class="p">;</span>
          
    <span class="c1">//如果执行次数未达到max设定的值,则设置另一次超时调用</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">num</span> <span class="o">&lt;</span> <span class="nx">max</span><span class="p">){</span>
        <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">incrementNumber</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">"Done"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">setTimeout</span><span class="p">(</span><span class="nx">incrementNumber</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
  <li>系统对话框
    <ul>
      <li>alert(): 警告对话框,接收一个字符串并将其显示给用户,这个方法结果是向用户显示一个系统对话框,其中包含指定的文本和OK(“确定”)按钮;</li>
      <li>
        <p>confirm(): 确认框,接收一个字符串,这个方法结果是向用户显示一个确认框,其中包括指定的文本,OK(“确定”)按钮和cancel(“取消”)按钮,而且返回值是true(点了确认)和false(点了取消),例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="k">if</span><span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="s2">"Are you sure?"</span><span class="p">)){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"helloworld!"</span><span class="p">);</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"sorry!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
        </div>
      </li>
      <li>prompt(): 提示框,接收两个参数,分别是要显示给用户的文本框和文本输入域的默认值(可以是一个空字符串),这个方法结果是向用户显示一个提示框,其中包括指定文本,用户输入域,确认(“OK”)按钮和cancel(“取消”)按钮,如果用户点击OK按钮,则返回文本输入域的值,如果用户关闭或者点击cancel按钮,则返回null;</li>
    </ul>
  </li>
  <li>history对象
    <ul>
      <li>
        <p>使用go()方法可以在用户历史记录中任意跳转,可以向后或者向前,只接收一个参数,可以传向后或向前跳转的一个整数值,负数表示向后跳转,正数表示向前跳转,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//后退一页</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="c1">//向前一页</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="c1">//向前两页</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>使用back()和forward()方法,分别是后退和前进按钮,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//后退一页</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">back</span><span class="p">();</span>
<span class="c1">//前进一页</span>
<span class="nx">history</span><span class="p">.</span><span class="nx">forward</span><span class="p">();</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
</ol>

<h3 id="dom">(六) DOM</h3>

<ol>
  <li>
    <p>操作节点</p>

    <ul>
      <li>
        <p>appendChild()方法,用于向childNodes列表末尾添加一个节点,返回结果是新增的节点,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">newNode</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">node</span> <span class="o">==</span> <span class="nx">newNode</span><span class="p">);</span>     <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">someNode</span><span class="p">.</span><span class="nx">lastChild</span> <span class="o">==</span> <span class="nx">newNode</span><span class="p">);</span>   <span class="c1">//true</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>insertBefore()方法,接收两个参数,要插入的节点和作为参照的节点,插入节点后,被插入的节点会变成参照点的前一个同胞节点,返回结果就是插入节点,如果参照节点是null,则insertBefore()与appendChild()执行相同的操作操作,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//插入后成为最后一个子节点</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">newNode</span><span class="p">,</span><span class="kc">null</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">newNode</span> <span class="o">==</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">);</span>   <span class="c1">//true</span>

<span class="c1">//插入后成为第一个子节点</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">newNode</span><span class="p">,</span><span class="nx">someNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">node</span> <span class="o">==</span> <span class="nx">newNode</span><span class="p">);</span>     <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">newNode</span> <span class="o">==</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>      <span class="c1">//true</span>

<span class="c1">//插入到最后一个子节点前面</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">newNode</span><span class="p">,</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">newNode</span> <span class="o">==</span> <span class="nx">somoNode</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">someNode</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">]);</span>     <span class="c1">//true</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>replaceChild()方法,接收两个参数,要插入的节点和要替换的节点,被替换的节点仍然还在文档中,只是在文档中以及没有自己的位置,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//替换第一个子节点</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">replaceChild</span><span class="p">(</span><span class="nx">newNode</span><span class="p">,</span><span class="nx">someNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>

<span class="c1">//替换最后一个子节点</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">replaceChild</span><span class="p">(</span><span class="nx">newNode</span><span class="p">,</span><span class="nx">someNode</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>removeChild()方法,只想移除而非替换节点,只接收一个参数,即要移除的节点,被移除的节点将被作为返回值,通过这个方法移除的节点仍然为文档所有,只不过在文档中已经没有了自己的位置,跟replaceChild()方法一样,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//移除第一个子节点</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">someNode</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>

<span class="c1">//移除最后一个子节点</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">someNode</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">)</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>Document类型</p>

    <ul>
      <li>document对象是HTMLDocument(继承自Document类型)的一个实例,表示整个HTML页面;</li>
      <li>
        <p>内置访问其子节点的快捷方式,一个是documentElement属性,该属性始终指向HTML页面中的&lt;html&gt;元素,另一个就是通过childNodes()列表访问文档元素,但documentElement属性则能更快捷,更直接地访问元素,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/html</span><span class="err">&gt;
</span><span class="c1">//从上述html代码中可见,其文档包含一个子节点,即&lt;html&gt;元素,可通过以下访问:</span>
<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span>        <span class="c1">//取得对&lt;html&gt;的引用</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">html</span> <span class="o">==</span> <span class="nb">document</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>      <span class="c1">//true</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">html</span> <span class="o">==</span> <span class="nb">document</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">);</span>         <span class="c1">//true</span>
</code></pre>
        </div>
        <p>可见documentElement,firstChild和childNodes[0]的值相同,都指向html元素;</p>
      </li>
      <li>
        <p>getElementById()只返回文档中第一次出现的元素,IE7及不区分id的大小写,除了这个意外都区分大小写,如果不存在带有相应ID的元素,则返回null,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"myDiv"</span><span class="o">&gt;</span><span class="nx">some</span> <span class="nx">text</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="c1">//获取&lt;div&gt;的引用</span>
<span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myDiv"</span><span class="p">);</span>
</code></pre>
        </div>
        <p>另外,不能让表单字段的name特性与其他元素的ID相同,因为IE7及其以前的版本,通过document.getElementById获取的时候也会获取到有name与其他id相同名字的表单;</p>
      </li>
      <li>
        <p>getElementsByTagName()方法,只接收一个参数,就是元素的标签名,,返回包含零个或者多个元素的数组,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">images</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"img"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">images</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>           <span class="c1">//输出图像的数量</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">images</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">src</span><span class="p">);</span>           <span class="c1">//输出第一个图像元素的src特性</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">images</span><span class="p">.</span><span class="nx">item</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">src</span><span class="p">);</span>      <span class="c1">//输出第一个图像元素的src特性</span>
</code></pre>
        </div>
        <p>取到所有图像引用以后,可以直接根据name属性来访问指定的图像,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"myimage.gif"</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"myImage"</span><span class="o">&gt;</span>
<span class="c1">//根据name来获取</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">images</span><span class="p">.</span><span class="nx">nameItem</span><span class="p">[</span><span class="s2">"myImage"</span><span class="p">]);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">images</span><span class="p">[</span><span class="s2">"myImage"</span><span class="p">]);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>getElementsByName()方法,返回带有给定的name特性的所有元素,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">radios</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementByName</span><span class="p">(</span><span class="s2">"color"</span><span class="p">);</span>        <span class="c1">//获取所有带有name="color"的元素</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>document.anchors: 包含文档中所有带name特性的<a>元素;</a></p>
      </li>
      <li>document.forms: 包含文档中所有的&lt;form&gt;元素,与document.getElementsByTagName(“form”)得到的结果相同;</li>
      <li>document.images: 包含文档中所有的<img />元素,与document.getElementsByTagName(“img”)得到的结果相同;</li>
      <li>document.links: 包含文档中所有带href特性的<a>元素;</a></li>
      <li>
        <p>document.write()和document.writeln(): write()会原样写入,而writeln()则原样写入后在字符串末尾加上换行符(\n),另外write()和writeln()方法输出的任何HTML代码都将原样处理,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code>   <span class="nt">&lt;html&gt;</span>
   <span class="nt">&lt;head&gt;</span>
       <span class="nt">&lt;title&gt;</span>example<span class="nt">&lt;title&gt;</span>
   <span class="nt">&lt;/head&gt;</span>
   <span class="nt">&lt;body&gt;</span>
       <span class="nt">&lt;p&gt;</span>The current date and time is:
           <span class="nt">&lt;script&gt;</span>
               <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">"&lt;strong&gt;"</span><span class="o">+</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="s2">"&lt;/strong&gt;"</span><span class="p">);</span>
           <span class="nt">&lt;/script&gt;</span>
       <span class="nt">&lt;/p&gt;</span>
   <span class="nt">&lt;/body&gt;</span>
   <span class="nt">&lt;/html&gt;</span>
</code></pre>
        </div>
        <p>如果document.write()和document.writeln()里面带有&lt;/script&gt;标签的时候,就要把里面的都要转义,例如&lt;\/script&gt;,如果是在window.onload页面加载后再运行document.write()和document.writeln()的时候,文本内容将覆盖整个页面的内容;</p>

        <div class="highlighter-rouge"><pre class="highlight"><code>   <span class="nt">&lt;html&gt;</span>
   <span class="nt">&lt;head&gt;</span>
       <span class="nt">&lt;title&gt;</span>example<span class="nt">&lt;title&gt;</span>
   <span class="nt">&lt;/head&gt;</span>
   <span class="nt">&lt;body&gt;</span>
       <span class="nt">&lt;p&gt;</span>The current date and time is:
           <span class="nt">&lt;script&gt;</span>
               <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
                   <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s2">"&lt;strong&gt;"</span><span class="o">+</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="s2">"&lt;/strong&gt;"</span><span class="p">);</span>   
               <span class="p">}</span>
           <span class="nt">&lt;/script&gt;</span>
       <span class="nt">&lt;/p&gt;</span>
   <span class="nt">&lt;/body&gt;</span>
   <span class="nt">&lt;/html&gt;</span>
</code></pre>
        </div>
        <p>这段代码结果是页面只显示<strong>”+(new Date()).toString()+”</strong>;</p>
      </li>
      <li>
        <p>getAttribute()方法,参数就是传入一个实际的特性名,例如要想得到class特性值,应该传入class而不是className,后者只有通过对象属性访问特性时才用,如果给定特性名不存在,则直接返回null,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//直接通过对象访问属性</span>
<span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myDiv"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">className</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">title</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">lang</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">dir</span><span class="p">);</span>

<span class="c1">//使用getAttribute()访问属性</span>
<span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myDiv"</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">"div"</span><span class="p">));</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">"class"</span><span class="p">));</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">"title"</span><span class="p">));</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">"lang"</span><span class="p">));</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">"dir"</span><span class="p">));</span>
</code></pre>
        </div>
        <p>只有取得自定义特性值的情况下才会用到getAttribute()方法,一般都是对象直接访问;</p>
      </li>
      <li>
        <p>setAttribute()方法,接收两个参数,分别是要设置的特性姓名和值,如果特性不存在,则会创建给属性并设置相应的值,但是如果是通过对象访问属性直接赋值设置的属性是自定义的,该属性不会自动成为元素的特性,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">div</span><span class="p">.</span><span class="nx">mycolor</span> <span class="o">=</span> <span class="s2">"red"</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">div</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">"mycolor"</span><span class="p">));</span>     <span class="c1">//null(IE除外)</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>removeAttribute()方法,彻底删除元素的特性,不仅会清除特性的值,而且也会从元素完全删除特性,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">div</span><span class="p">.</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s2">"class"</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>createElement()方法可以创建新元素,只接收一个参数,即要创建元素的标签名,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">();</span>
</code></pre>
        </div>
        <p>创建好的元素不会被添加到文档树,这时候如果要操作元素的特性,可以如下</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">div</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s2">"myDiv"</span><span class="p">;</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s2">"box"</span><span class="p">;</span>
</code></pre>
        </div>
        <p>创建后的新元素要添加到文档树,可以使用appendChild(),insertBefore(),replaceChild(),例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">div</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>通过firstChild属性可以获得文本节点以及修改文本节点内容,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//HTML代码</span>
<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>   <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="c1">//js代码</span>
<span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementByTagName</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">();</span>       <span class="c1">//或者div.childNodes[0]</span>
<span class="c1">//修改文本节点的内容</span>
<span class="nx">text</span><span class="p">.</span><span class="nx">nodeVale</span> <span class="o">=</span> <span class="s2">"hellow"</span><span class="p">;</span>
</code></pre>
        </div>
        <p>修改文本节点内容的时候,如果包含有html标签,则会直接输出html标签而不会解析;</p>
      </li>
      <li>
        <p>createTextNode()方法用来创建文本节点,接收一个参数就是要插入的文本的节点,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s2">"message"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">textNode</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s2">"hahaha"</span><span class="p">);</span>
<span class="nx">element</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">textNode</span><span class="p">);</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">element</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>comment类型: 注释在DOM中是通过comment类型来表示的,获得注释内容,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"myDiv"</span><span class="o">&gt;</span><span class="c">&lt;!--</span> <span class="nx">A</span> <span class="nx">comment</span> <span class="o">--&gt;&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="c1">//获取注释内容</span>
<span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myDiv"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">comment</span> <span class="o">=</span> <span class="nx">div</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">comment</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>        <span class="c1">//A comment</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
</ol>

<h3 id="section-3">(七) 事件</h3>

<ol>
  <li>
    <p>事件流</p>

    <ul>
      <li>事件流: 就是从页面中接收事件的顺序;</li>
      <li>事件流包括三个阶段: 事件捕获阶段,处于目标阶段和事件冒泡阶段;</li>
      <li>事件捕获阶段顺序: 沿着DOM树依次向下,一直传播到事件的实际目标;</li>
      <li>事件冒泡阶段顺序: 沿着DOM树依次向上,直至传播到document对象;</li>
      <li>事件处理程序(或事件侦听器): 响应某个事件函数;事件: 用户或者浏览器自身执行的某种动作;</li>
      <li>
        <p>HTML事件处理程序中,函数内部可以通过even变量直接访问事件对象,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"click me"</span> <span class="nx">onclick</span><span class="o">=</span><span class="s2">"alert(event.type);"</span><span class="o">&gt;</span>
</code></pre>
        </div>
        <p>在函数内部,this的值等于事件的目标元素,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"click me"</span> <span class="nx">onclick</span><span class="o">=</span><span class="s2">"alert(this.value)"</span><span class="o">&gt;</span>
</code></pre>
        </div>
        <p>事件处理程序还可以直接访问自己的属性,例如</p>

        <p><code class="highlighter-rouge">javascript
 &lt;input type="button" value="click me" onclick="alert(value)"&gt;
</code></p>
      </li>
      <li>
        <p>删除事件处理程序,直接赋值为null即可,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>addEventListener()接收三个参数,分别是要处理的事件名,作为事件处理程序的函数和一个布尔值,布尔值如果是true,表示在捕获阶段调用事件处理程序,如果是false,表示在冒泡阶段调用事件处理程序,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myBtn"</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="p">},</span><span class="kc">false</span><span class="p">);</span>
</code></pre>
        </div>
        <p>使用addEventListener()方法好处就是可以为目标元素添加多个事件处理程序,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myBtn"</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="p">},</span><span class="kc">false</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Helloworld!!!"</span><span class="p">);</span>
<span class="p">},</span><span class="kc">false</span><span class="p">);</span>
</code></pre>
        </div>
        <p>以上程序会按顺序执行,先弹出id,然后弹出helloworld;</p>
      </li>
      <li>
        <p>使用addEventListener()方法的目标元素如果要消除事件处理程序,就需要使用removeEventListener()方法,参数跟addEventListener()方法一样,但如果函数是匿名函数的话会报错,只能使用函数名,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myBtn"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">handle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="nx">handle</span><span class="p">,</span><span class="kc">false</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="nx">handle</span><span class="p">,</span><span class="kc">false</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>IE事件处理程序中也有两个跟上面类似的方法,分别是attachEvent()和detachEvent()方法,都接收两个参数,分别是事件处理程序的名称,与事件处理程序函数,而且事件处理函数都是处理冒泡阶段,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myBtn"</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">"onclick"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Clicked"</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>辨别this,target,currentTarget,如果直接将事件处理程序指定给了目标元素,则那三个值都是相等的,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myBtn"</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">currentTarget</span> <span class="o">===</span> <span class="k">this</span><span class="p">);</span>        <span class="c1">//true</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">===</span> <span class="k">this</span><span class="p">);</span>               <span class="c1">//true</span>
<span class="p">}</span>
</code></pre>
        </div>
        <p>如果事件处理程序存在于按钮的父节点中,这些值都是不相同的,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">currentTarget</span> <span class="o">===</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>       <span class="c1">//true</span>
    <span class="nx">alert</span><span class="p">(</span><span class="k">this</span> <span class="o">===</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>                      <span class="c1">//true</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">===</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myBtn"</span><span class="p">));</span>   <span class="c1">//true</span>
<span class="p">}</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>使用event.type属性可以处理多个事件函数,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myBtn"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">handler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">){</span>
        <span class="k">case</span> <span class="s2">"click"</span><span class="err">:</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">"clicked"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"mouseover"</span><span class="err">:</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">"mouseover"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"mouseout"</span><span class="err">:</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">"mouseout"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">;</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">mouseover</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">;</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">mouseout</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">;</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>阻止事件的默认行为,可以使用preventDefault()方法,例如阻止点击链接后直接跳到另一页面</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">link</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myLink"</span><span class="p">);</span>
<span class="nx">link</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>stopPropagation()方法用于立即停止事件在DOM层次中的传播,即取消进一步的事件捕获或冒泡,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myBtn"</span><span class="p">);</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"clicked"</span><span class="p">);</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>            <span class="c1">//防止冒泡到body上的事件触发</span>
<span class="p">}</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>跨浏览器对象,使用EventUtil对象</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">event</span> <span class="o">=</span> <span class="nx">EventUtil</span><span class="p">.</span><span class="nx">getEvent</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>          <span class="c1">//取得事件对象</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
</ol>

<h3 id="section-4">(八) 表单脚本</h3>

<ol>
  <li>
    <p>获取表单</p>

    <ul>
      <li>
        <p>获取表单可以使用getElementByTagName()方法,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementByTagName</span><span class="p">(</span><span class="s2">"form"</span><span class="p">);</span>
</code></pre>
        </div>
        <p>也可以直接通过document.forms可以取得页面中的所有的表单,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>           <span class="c1">//取得页面中的第一个表单</span>
<span class="kd">var</span> <span class="nx">form2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">forms</span><span class="p">[</span><span class="s2">"form2"</span><span class="p">];</span>    <span class="c1">//取得页面中名称为"form2"的表单</span>
</code></pre>
        </div>
        <p>获取表单里其他表单字段的话,就需要用到Elements[],例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//html代码</span>
<span class="o">&lt;</span><span class="nx">form</span> <span class="nx">method</span><span class="o">=</span><span class="s2">"post"</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"myForm"</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"radio"</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"color"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"red"</span><span class="o">&gt;</span><span class="nx">red</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"radio"</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"color"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"green"</span><span class="o">&gt;</span><span class="nx">green</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"radio"</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"color"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"blue"</span><span class="o">&gt;</span><span class="nx">blue</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span><span class="c1">//javascript代码</span>
<span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementByTagName</span><span class="p">(</span><span class="s2">"form"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">colorFields</span> <span class="o">=</span> <span class="nx">form</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="s2">"color"</span><span class="p">];</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">colorFields</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>          <span class="c1">//返回3</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">colorFields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">===</span> <span class="nx">form</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>         <span class="c1">//返回true</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>select()方法: 选择文本,即选择在文本框里面的内容,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">textbox</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">elements</span><span class="p">[</span><span class="s2">"textbox1"</span><span class="p">];</span>
<span class="nx">textbox</span><span class="p">.</span><span class="nx">select</span><span class="p">();</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
</ol>

<h3 id="json">(九) JSON</h3>

<ol>
  <li>
    <p>解析与序列化</p>

    <ul>
      <li>
        <p>JSON对象有两个方法: stringify()和parse(),这两个方法分别用于把javascript对象序列化为JSON字符串和把Json字符串解析为原生javascript值,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//javascript字面量对象</span>
<span class="kd">var</span> <span class="nx">book</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">title</span><span class="p">:</span> <span class="s2">"Professional"</span><span class="p">,</span>
    <span class="na">editions</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="na">year</span><span class="p">:</span> <span class="mi">2011</span>
<span class="p">};</span>
<span class="c1">//转化为JSON字符串</span>
<span class="kd">var</span> <span class="nx">jsonText</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">book</span><span class="p">);</span>
<span class="c1">//输出结果是:</span>
<span class="p">{</span>
    <span class="s2">"title"</span><span class="err">:</span> <span class="s2">"Professional"</span><span class="p">,</span>
    <span class="s2">"editions"</span><span class="err">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">"year"</span><span class="err">:</span> <span class="mi">2011</span>
<span class="p">};</span>
</code></pre>
        </div>
        <p>当javascript对象中带有undefined的值时,会忽略,结果中最终都是有效JSON数据类型的实例属性,当想把JSON对象转换为javascript对象时,即</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">book</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">jsonText</span><span class="p">);</span>
</code></pre>
        </div>
      </li>
      <li>
        <p>序列化过滤,在JSON.stringify()中,除了要序列化的javascript对象外,还可以接收另外两个参数,这两个参数用于指定以不同方式序列化javascript对象,第一个参数是过滤器,可以是一个数组,还可以是一个函数,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">book</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Professional"</span><span class="p">,</span>
    <span class="s2">"authors"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"Tom"</span>
    <span class="p">],</span>
    <span class="na">edition</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="na">year</span><span class="p">:</span> <span class="mi">2011</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">jsonText</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">book</span><span class="p">,</span> <span class="p">[</span><span class="s2">"title"</span><span class="p">,</span><span class="s2">"edition"</span><span class="p">]);</span>
</code></pre>
        </div>
        <p>最后得到的结果是: {“title”:”Professional”,”edition”:3},过滤不在数组中的属性,如果是函数的时候,效果就不同了,函数会接收两个参数,分别是属性名和属性值,例如</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">book</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Professional"</span><span class="p">,</span>
    <span class="s2">"authors"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"Tom"</span>
    <span class="p">],</span>
    <span class="na">edition</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="na">year</span><span class="p">:</span> <span class="mi">2011</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">jsonText</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">book</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">key</span><span class="p">){</span>
        <span class="k">case</span> <span class="s2">"authors"</span><span class="err">:</span>
            <span class="k">return</span> <span class="nx">value</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">","</span><span class="p">);</span>
        <span class="k">case</span> <span class="s2">"year"</span><span class="err">:</span>
            <span class="k">return</span> <span class="mi">5000</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"edition"</span><span class="err">:</span>
            <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
        <span class="nl">Default</span><span class="p">:</span> 
            <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>
        </div>
        <p>注意,遇到undefined时,相应的属性就会忽略,最后的输出结果: {“title”: “Professional”,”authors”:”Tom”,”year”:5000};
JSON.stringify()的第三个参数就是用于控制结果中的缩进和空白符,如果这个参数是一个参数,那它表示的是每个级别缩进的空格数</p>
      </li>
      <li>
        <p>JSON.parse()方法可以接收另一个参数,该参数是一个参数,为了区分JSON.stringify()中第二个参数函数,该函数被称为还原函数,虽然作用都一样,例如,在将日期字符串转化为Date对象的时候,经常要用到还原函数,例如:</p>

        <div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">book</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Professional"</span><span class="p">,</span>
    <span class="s2">"authors"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"Tom"</span>
    <span class="p">],</span>
    <span class="na">edition</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="na">year</span><span class="p">:</span> <span class="mi">2011</span><span class="p">,</span>
    <span class="na">date</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">jsonText</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">book</span><span class="p">);</span>
<span class="c1">//解析过程</span>
<span class="kd">var</span> <span class="nx">book</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">jsonText</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span><span class="nx">value</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">key</span> <span class="o">==</span> <span class="s2">"date"</span><span class="p">){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">book</span><span class="p">.</span><span class="nx">date</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">());</span>             <span class="c1">//字符串转为对象后才可以使用getFullYear()方法</span>
</code></pre>
        </div>
      </li>
    </ul>
  </li>
</ol>
